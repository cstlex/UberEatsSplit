(this.webpackJsonpuber_eats_split=this.webpackJsonpuber_eats_split||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var c=a(3),l=a.n(c),n=a(10),s=a.n(n),r=a(12),i=a(1),d=a.n(i),b=a(2),u=a(6),o=a(4),h=a.p+"static/media/add.2ce57a1b.svg",x=a.p+"static/media/clear.604f17ae.svg",j=a.p+"static/media/save.958aff8d.svg",m=a(5);function g(e){return p.apply(this,arguments)}function p(){return(p=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==t&&void 0!==t?t:1e3,e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),a)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=a(11),O=a(0);function k(e,t){return"$"+function(e){var t=parseFloat(e);return isNaN(t)?0:t}(e.toFixed(null!==t&&void 0!==t?t:2)).toLocaleString()}function w(e){if(!e)return 0;var t=parseFloat(e.replace(/(?!\.)\D/g,"").replace(/(?!^0$)^0+/g,""));return isNaN(t)?0:t}var N={name:"",menu:"",price:0};function v(){var e=l.a.useRef(null),t=l.a.useState("UberEats Bill Split"),a=Object(o.a)(t,2),c=a[0],n=a[1],s=l.a.useState(!1),i=Object(o.a)(s,2),p=i[0],v=i[1],T=l.a.useState([N]),y=Object(o.a)(T,2),D=y[0],F=y[1],S=l.a.useState({allServiceFees:0,preTaxDiscount:0,postTaxDiscount:0,tip:0,isTipAbsolute:!0,taxRate:13}),C=Object(o.a)(S,2),V=C[0],P=C[1],L=V.isTipAbsolute,R=function(e){P(Object(u.a)(Object(u.a)({},V),{},{isTipAbsolute:e}))},A=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({allServiceFees:0,preTaxDiscount:0,postTaxDiscount:0,tip:0,isTipAbsolute:!0,taxRate:13}),F([N]),v(!0),e.next=5,g(100);case 5:v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e,t){F(D.map((function(a,c){return c===t?Object(u.a)(Object(u.a)({},a),e):a})))},M=function(e){P(Object(u.a)(Object(u.a)({},V),e))},_=D.map((function(e){return e.price})).reduce((function(e,t){return e+t})),B=(_+V.allServiceFees-V.preTaxDiscount)*(V.taxRate/100),E=L?V.tip:(_+V.allServiceFees+B-V.postTaxDiscount-V.preTaxDiscount)*(V.tip/100),I=function(){var t=Object(b.a)(d.a.mark((function t(){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.current){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(f.a)(e.current);case 4:a=t.sent,(c=document.createElement("a")).href=a,c.download="bill.jpg",c.click();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"w-screen h-screen flex flex-1 flex-col bg-white dark:bg-black",children:[Object(O.jsx)("div",{className:"flex-1 flex flex-col flex-grow overflow-scroll pb-24",children:Object(O.jsxs)("div",{ref:e,className:"flex flex-col p-5",children:[Object(O.jsx)("input",{className:"font-medium text-xl text-black dark:text-white bg-white dark:bg-black",value:c,onChange:function(e){return n(e.target.value)}}),Object(O.jsxs)("table",{className:"w-full mt-3 border-separate table-fixed",children:[Object(O.jsx)("thead",{className:"bg-blue-thead dark:bg-gray-35 text-black dark:text-white",children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{className:"hidden sm:table-cell",children:"Menu"}),Object(O.jsx)("th",{children:"Price"}),Object(O.jsx)("th",{className:"hidden sm:table-cell",children:"Fee"}),Object(O.jsx)("th",{className:"hidden sm:table-cell",children:"Tax"}),Object(O.jsx)("th",{className:"hidden sm:table-cell",children:"Tip"}),Object(O.jsx)("th",{className:"hidden sm:table-cell",children:"Discount"}),Object(O.jsx)("th",{children:"Total"}),Object(O.jsx)("th",{children:"Manage"})]})}),Object(O.jsxs)("tbody",{children:[D.map((function(e,t){return Object(O.jsxs)("tr",{className:t%2===0?"bg-white dark:bg-black":"bg-blue-tbody dark:bg-gray-900",children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{className:"w-full bg-transparent text-black dark:text-white",value:e.name,placeholder:"Name",onChange:function(e){return $({name:e.target.value},t)}})}),Object(O.jsx)("td",{className:"hidden sm:table-cell",children:Object(O.jsx)("input",{className:"w-full bg-transparent text-black dark:text-white",value:e.menu,placeholder:"Menu",onChange:function(e){return $({menu:e.target.value},t)}})}),Object(O.jsx)("td",{children:Object(O.jsx)(m.a,{className:"w-full bg-transparent text-black dark:text-white",prefix:"$",defaultValue:e.price,placeholder:"Price",decimalsLimit:5,onValueChange:function(e){return $({price:w(e)},t)}})}),Object(O.jsx)("td",{className:"bg-gray-200 hidden sm:table-cell text-black dark:bg-gray-700 dark:text-white",children:k(V.allServiceFees/D.length,5)}),Object(O.jsx)("td",{className:"bg-gray-200 hidden sm:table-cell text-black dark:bg-gray-700 dark:text-white",children:k((e.price+V.allServiceFees/D.length-V.preTaxDiscount/D.length)*(V.taxRate/100),5)}),Object(O.jsx)("td",{className:"bg-gray-200 hidden sm:table-cell text-black dark:bg-gray-700 dark:text-white",children:k(E/D.length)}),Object(O.jsx)("td",{className:"bg-gray-200 hidden sm:table-cell text-black dark:bg-gray-700 dark:text-white",children:k(V.postTaxDiscount/D.length+V.preTaxDiscount/D.length)}),Object(O.jsx)("td",{className:"bg-gray-200 text-black dark:bg-gray-700 dark:text-white",children:k((e.price+V.allServiceFees/D.length-V.preTaxDiscount/D.length)*(1+V.taxRate/100)+V.tip/D.length-V.postTaxDiscount/D.length)}),Object(O.jsxs)("td",{children:[D.length>1&&Object(O.jsx)("button",{className:"text-base bg-gray-35 h-7 w-20 text-center text-white rounded my-auto mx-auto md:ml-2 mt-2 md:mt-0 mb-2 md:mb-0",onClick:function(){return e=t,void F(D.filter((function(t,a){return a!==e})));var e},children:"Delete"}),D.length<=1&&Object(O.jsx)("div",{className:"h-7 w-20 my-auto mx-auto md:ml-2 mt-2 md:mt-0 mb-2 md:mb-0"})]})]},"".concat(t,"-").concat(D.length))})),Object(O.jsxs)("tr",{className:"bg-gray-300 text-black dark:bg-gray-700 text-black dark:text-white",children:[Object(O.jsx)("td",{children:"Subtotal"}),Object(O.jsx)("td",{className:"hidden sm:table-cell"}),Object(O.jsx)("td",{children:k(_)}),Object(O.jsx)("td",{className:"hidden sm:table-cell",children:k(V.allServiceFees)}),Object(O.jsx)("td",{className:"hidden sm:table-cell",children:k(B)}),Object(O.jsx)("td",{className:"hidden sm:table-cell",children:k(E)}),Object(O.jsx)("td",{className:"hidden sm:table-cell",children:k(V.postTaxDiscount+V.preTaxDiscount)}),Object(O.jsx)("td",{children:k(D.map((function(e){return function(e,t,a){return(e.price+t.allServiceFees/a-t.preTaxDiscount/a)*(1+t.taxRate/100)+t.tip/a-t.postTaxDiscount/a}(e,V,D.length)})).reduce((function(e,t){return e+t})))}),Object(O.jsx)("td",{})]})]})]}),Object(O.jsx)("table",{className:"w-full sm:w-2/3 table-fixed mt-3 mb-4",children:Object(O.jsxs)("tbody",{className:"bg-gray-200 text-black dark:bg-gray-700 dark:text-white",children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"hidden sm:table-cell",children:"All Fees (Service fee, Delivery fee, ... etc)"}),Object(O.jsx)("td",{className:"sm:hidden",children:"Fees"}),Object(O.jsx)("td",{children:Object(O.jsx)(m.a,{className:"w-full bg-white dark:bg-black",prefix:"$",defaultValue:V.allServiceFees,placeholder:"Fees",decimalsLimit:5,onValueChange:function(e){return M({allServiceFees:w(e)})}},"".concat(p))})]}),Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{className:"flex flex-row",children:["Tip",Object(O.jsxs)("div",{className:"ml-auto mr-3 flex-col sm:flex-row",children:[Object(O.jsxs)("label",{className:"inline-flex items-center ml-2 sm:ml-0",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-blue-600",checked:!L,onChange:function(){return R(!1)}}),Object(O.jsx)("span",{className:"ml-1 text-gray-700 dark:text-white",children:"Percent"})]}),Object(O.jsxs)("label",{className:"inline-flex items-center ml-2",children:[Object(O.jsx)("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-blue-600",checked:L,onChange:function(){return R(!0)}}),Object(O.jsx)("span",{className:"ml-1 text-gray-700 dark:text-white",children:"Absolute"})]})]})]}),Object(O.jsx)("td",{children:Object(O.jsx)(m.a,{className:"w-full bg-white dark:bg-black",prefix:L?"$":"",defaultValue:V.tip,placeholder:"Tip",decimalsLimit:5,onValueChange:function(e){return M({tip:w(e)})}},"".concat(L).concat(p))})]}),Object(O.jsxs)("tr",{children:[Object(O.jsxs)("td",{className:"flex flex-row",children:["Tax",Object(O.jsxs)("div",{className:"ml-auto mr-3 flex-row",children:[Object(O.jsx)(m.a,{className:"bg-white w-20 ml-3 text-right pr-1 dark:bg-black dark:text-white",defaultValue:V.taxRate,placeholder:"Tax",decimalsLimit:5,onValueChange:function(e){return M({taxRate:w(e)})}},"".concat(p)),"%"]})]}),Object(O.jsx)("td",{children:k(B)})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Pre Tax Discount"}),Object(O.jsx)("td",{children:Object(O.jsx)(m.a,{className:"w-full bg-white dark:bg-black dark:text-white",prefix:"$",defaultValue:V.postTaxDiscount,placeholder:"Pre Tax Discount",decimalsLimit:5,onValueChange:function(e){return M({preTaxDiscount:w(e)})}},"".concat(p))})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Post Tax Discount"}),Object(O.jsx)("td",{children:Object(O.jsx)(m.a,{className:"w-full bg-white dark:bg-black dark:text-white",prefix:"$",defaultValue:V.postTaxDiscount,placeholder:"Post Tax Discount",decimalsLimit:5,onValueChange:function(e){return M({postTaxDiscount:w(e)})}},"".concat(p))})]})]})})]})}),Object(O.jsxs)("div",{className:"absolute mb-8 mr-6 bottom-0 right-0",children:[Object(O.jsx)("button",{className:"mr-2 p-0 w-14 h-14 bg-blue-highlight rounded-full hover:bg-blue-hover active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none",onClick:I,children:Object(O.jsx)("img",{className:"w-9 h-9 inline-block",src:j,alt:"Take Screenshot"})}),Object(O.jsx)("button",{className:"mr-2 p-0 w-14 h-14 bg-blue-highlight rounded-full hover:bg-blue-hover active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none",onClick:A,children:Object(O.jsx)("img",{className:"w-9 h-9 inline-block",src:x,alt:"Clear fields"})}),Object(O.jsx)("button",{className:"p-0 w-14 h-14 bg-blue-highlight rounded-full hover:bg-blue-hover active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none",onClick:function(){F([].concat(Object(r.a)(D),[N]))},children:Object(O.jsx)("img",{className:"w-9 h-9 inline-block",src:h,alt:"Add person"})})]})]})}a(19);var T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then((function(t){var a=t.getCLS,c=t.getFID,l=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),l(e),n(e),s(e)}))};s.a.render(Object(O.jsx)(l.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root")),T()}},[[20,1,2]]]);
//# sourceMappingURL=main.2689a0a9.chunk.js.map